# https://moonrepo.dev/docs/config/toolchain
$schema: 'https://moonrepo.dev/schemas/toolchain.json'

proto:
  version: '0.51.6'

node:
  version: '22.19.0'
  packageManager: 'pnpm'

  pnpm:
    version: '10.15.0'
    installArgs: ['--frozen-lockfile']

  addEnginesConstraint: true
  dedupeOnLockfileChange: true
  dependencyVersionFormat: 'workspace'
  syncPackageManagerField: true
  # inferTasksFromScripts: false
  syncProjectWorkspaceDependencies: true

typescript:
  createMissingConfig: true
  syncProjectReferences: false
  root: '.'
  routeOutDirToCache: true
  rootOptionsConfigFileName: 'tsconfig.base.json'

  includeSharedTypes: true

unstable_go:
  version: '1.25.0'
  bins:
    - 'golang.org/x/tools/gopls@latest'
    - 'github.com/golangci/golangci-lint/cmd/golangci-lint@latest'
    - 'honnef.co/go/tools/cmd/staticcheck@latest'
  tidyOnChange: true
  workspaces: true
